このプロジェクトでコード生成するために必要な情報をエージェント向けに提供するためのドキュメントです。

## ルール

英語で考えて、日本語で出力してください。

## 実装

実装時は、適宜 Linter や Formatter を使用してコードの品質を保ってください。
コードを変更した際に作業コメントは不要です。(例：xxx を削減。xxx を修正、xxx を削除など)

## テスト

以下のコマンドを実行して、すべてのユニットテストと E2E テストがパスすることを確認してください。

```bash
npm run test:unit
npm run test:e2e -- smoke-test --project=chromium-staff
npm run test:e2e -- smoke-test --project=chromium-admin
npm run test:e2e -- visual-regression --project=chromium-staff
npm run test:e2e -- visual-regression --project=chromium-admin
```

## コミットメッセージ

コミットメッセージは英語で記述してください。
例: "Add Storybook stories for HeaderBar component"

## コーディング規約・ベストプラクティス

### TypeScript の作法

- **any の禁止**: `no-explicit-any` ルールを有効化
- **型推論の活用**: 冗長な型注釈は避け、推論に任せる
- **ユニオン型**: 状態を明示的に表現 (例: `type Status = 'idle' | 'loading' | 'success' | 'error'`)
- **非同期処理**: `async/await` を使用し、Promise チェーンは避ける
- **インターフェースの命名**: `I` プレフィックスは使用しない
- **型エイリアス vs インターフェース**: オブジェクト型にはインターフェース、ユニオン型やタプルには型エイリアスを使用
- **Readonly と Immutable**: 可能な限り `readonly` 修飾子を使用し、不変データ構造を推奨
- **型ガード**: カスタム型ガード関数を活用して型安全性を向上

### React の作法

- **関数コンポーネントの使用**: クラスコンポーネントは避け、関数コンポーネントとフックを使用
- **JSX の記述**: JSX 内でのロジックは最小限に抑え、必要に応じて関数に切り出す
- **状態管理**: ローカル状態には `useState`、複雑な状態には `useReducer` を使用
- **副作用の管理**: `useEffect` を適切に使用し、依存配列を正確に指定
- **コンポーネントの分割**: 単一責任の原則に従い、コンポーネントは小さく保つ
- **PropTypes の使用**: TypeScript を使用している場合、PropTypes は不要
- **コンテキストの使用**: コンテキスト API は必要最低限に抑え、状態管理ライブラリの使用も検討

## 用語

### 勤怠(Attendance)

勤怠とは、スタッフの勤務時間や出勤・退勤、休憩時間などの記録を指します。勤怠管理は、労働時間の適正な把握や給与計算、法令遵守のために重要です。

### 打刻エラー

打刻エラーとは、勤怠システムにおいて、スタッフが勤務開始/終了や休憩開始/終了などを忘れた場合などに発生するエラーのことを指します。これにより、正確な勤務時間の記録ができなくなり、給与計算や勤務管理に影響を及ぼす可能性があります。

打刻エラーは、スタッフにより勤怠編集画面から打刻の修正申請が行われ、管理者がその申請を承認することで解決されます。または、管理者側で直接修正することも可能です。
